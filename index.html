
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!-- The above 2 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<meta name="description" content="">
<meta name="author" content="">

<!-- Note there is no responsive meta tag here -->

<link rel="icon" href="favicon.ico">

<title>Leo-Home</title>

<!-- Bootstrap core CSS -->
<link href="stylesheets/bootstrap.min.css" rel="stylesheet">

<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<link href="stylesheets//ie10-viewport-bug-workaround.css"
	rel="stylesheet">
<link href="stylesheets/sticky-footer-navbar.css" rel="stylesheet">
<!-- Custom styles for this template -->
<!-- <link href="stylesheets/non-responsive.css" rel="stylesheet"> -->

<!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
<!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
<script src="javascripts/ie-emulation-modes-warning.js"></script>

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
<script type="text/javascript">
	function doYourThing() {
		document.getElementById("main").style.display = "none";
		document.getElementById("docs").style.display = "block";
	}
	function undo() {
		document.getElementById("main").style.display = "block";
		document.getElementById("docs").style.display = "none";
	}
</script>

<link rel="icon" href="icon.png">
</head>

<body>

	<!-- Fixed navbar -->
	<nav class="navbar navbar-default" style="max-height: 40px;">
		<div class="container ">
			<div class="navbar-header">
				<!-- The mobile navbar-toggle button can be safely removed since you do not need it in a non-responsive implementation -->
				<a class="navbar-brand" href="index.html">Leo</a>
			</div>
			<!-- Note that the .navbar-collapse and .collapse classes have been removed from the #navbar -->
			<div id="navbar">
				<ul class="nav navbar-nav">
					<li><a href="#" onclick="undo();">Home</a></li>
					<li><a href="#about">About</a></li>
					<li><a href="#contact">Contact</a></li>
					<li class="dropdown"><a href="#" class="dropdown-toggle"
						data-toggle="dropdown" role="button" aria-haspopup="true"
						aria-expanded="false">Download <span class="caret"></span></a>
						<ul class="dropdown-menu">
							<li><a
								href="https://github.com/divyank01/leo/zipball/master">zip</a></li>
							<li><a
								href="https://github.com/divyank01/leo/tarball/master">tar.gz</a></li>
							<li role="separator" class="divider"></li>
							<li class="dropdown-header">View</li>
							<li><a href="#" onclick="doYourThing();">Javadocs</a></li>
							<!-- <li><a href="#">One more separated link</a></li> -->
						</ul></li>
				</ul>
				<!-- <form class="navbar-form navbar-left">
					<div class="form-group">
						<input type="text" class="form-control" placeholder="Search">
					</div>
					<button type="submit" class="btn btn-default">Submit</button>
				</form> -->
				<ul class="nav navbar-nav navbar-right">
					<li><a href="https://github.com/divyank01/leo"
						style="padding: 0;"><img alt="" src="images/github_logo.png"
							style="height: 40px; margin-right: 50px; margin-top: 10px;"></a></li>
				</ul>
			</div>
			<!--/.nav-collapse -->
		</div>
	</nav>

	<div class="container" id="main">
		<div class="page-header container">
		<div class="row">
		<div class="col-sm-3">
		<svg height="100" width="200">
  <polygon points="100,0,200,50,100,100,0,50" style="fill:#FFC200;" />
<!-- <path d="M0 0 H 200 V 100 H 0 Z" fill="transparent" stroke="black"/> -->
<text fill="#ffffff" font-size="45" font-family="monospace" x="60" y="65">
  leo
</text>
</svg></div>
			<div class="col-sm-9">
			<h1>Leo</h1>
			<p class="lead">Framework for REST api.</p></div>
		</div>
</div>
		<h3>Features</h3>
		<p>Some of the important features of the Leo are are mentioned
			below:
		<ul>
			<li>Supports DES based authentication of tokens.</li>
			<li>Able to serve json and multimedia contents.</li>
			<li>Spring integration for service.</li>
			<li>User customizable authenticator.</li>
			<li>No dependency on any other external library.</li>
			<li>Currently tested on apache tomcat.</li>
		</ul>
		</p>

		<!-- <h3>Regarding navbars</h3>
		<p>As a heads up, the navbar component is rather tricky here in
			that the styles for displaying it are rather specific and detailed.
			Overrides to ensure desktop styles display are not as performant or
			sleek as one would like. Just be aware there may be potential gotchas
			as you build on top of this example when using the navbar.</p>

		<h3>Browsers, scrolling, and fixed elements</h3>
		<p>
			Non-responsive layouts highlight a key drawback to fixed elements. <strong
				class="text-danger">Any fixed component, such as a fixed
				navbar, will not be scrollable when the viewport becomes narrower
				than the page content.</strong> In other words, given the non-responsive
			container width of 970px and a viewport of 800px, you'll potentially
			hide 170px of content.
		</p> -->
		<p>Leo is designed taking under consideration of easy service development.
		
		</p>

		<h3>Minimal configuration</h3>
		<p>Configuration of Leo is simple in order to
			configure first setup web.xml file and install LeoServlet in it.</p>
		<p>A sample configuration file is posted below.</p>


		<pre>
			<code>
	&lt;servlet&gt;
		&lt;servlet-name&gt;leo&lt;/servlet-name&gt;
		&lt;servlet-class&gt;org.leo.rest.servlet.LeoServlet&lt;/servlet-class&gt;
		&lt;init-param&gt;
			&lt;param-name&gt;packageName&lt;/param-name&gt;
			&lt;param-value&gt;com.service&lt;/param-value&gt;
		&lt;/init-param&gt;
		&lt;load-on-startup&gt;0&lt;/load-on-startup&gt;
	&lt;/servlet&gt;

	&lt;servlet-mapping&gt;
		&lt;servlet-name&gt;leo&lt;/servlet-name&gt;
		&lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;
	&lt;/servlet-mapping&gt;
</code>
		</pre>

		<h3 id="mapping">Spring integration</h3>
		<p>Spring integration is like the following:
		<pre>
			<code>
	&lt;context-param&gt;
		&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
		&lt;param-value&gt;/WEB-INF/applicationContext.xml&lt;/param-value&gt;
	&lt;/context-param&gt;

	&lt;listener&gt;
		&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;
	&lt;/listener&gt; 
			</code>
			</pre>
		</p>


<h3 id="mapping">Service</h3>
		<p>Service class will be recognized only if resides in correct package provided in config.
		On server startup service package will be loaded.</br>
		For GET:</br>
		Service method can return data as list, String, Stream or a File.</br>
		Objects returned from service method need to implement <code>org.leo.serializer.LeoSerializable</code> or need annotation of type <code>org.leo.rest.annotations.Serializable</code> 
		resources can be fetched through console as following.
		<code>curl http://localhost:8080/LeoTest/rest/ProductProvider/electronics -H authToken:J/Zywd8kibbTgQrE3hSzng== > ~/Desktop/ab.json</code>
		
		</br>For POST:</br>
		Posted resource will be injected to service method by calling getStream() method. Stream then can be converted to file or json
		resources can be posted through console as following.
		<code>curl -H authToken:J/Zywd8kibbTgQrE3hSzng== -H Content-Type:application/json -X POST -d @/home/divyank/Desktop/ab.json http://localhost:8080/LeoTest/rest/ProductProvider/product/electronics/add
		</code>
		
		<pre>
			<code>
package com.service;



@Service(name="ProductProvider")
public class ProductProvider extends LeoService{

	@Path(urlPath="/product/")
	public int getProduct(){
		return 2000;
	}
	
	
	@Path(urlPath="/product/electronics")
	public List getElectronicProducts(){
		Prodcty p3=new Prodcty();
		List list=new ArrayList();
		list.add(p3);
		return list;
	}
	
	/*
	 * 
	 * While returning an object in order for it to be serialize 
	 * it need to implements org.leo.serializer.LeoSerializable
	 * 		        OR
	 * instance of File,InputStream,Array,List or Map
	 * While returning collection objects should be of above types
	 * 
	 */
	@Path(urlPath="/product/all")
	public Product getAllProduct(){
		return null;
	}
	
	@Path(urlPath="/product/prodId")
	public File getProductById(){
		Blob blob =null;
		File file=new File("abc.jpg");
		return file;
	}
	
}
</code>
		</pre>
		</p>
		
		<h3 id="mapping">Authentication</h3>
		<p>Setup config as shown below.
		<pre>
			<code>
	&lt;servlet&gt;
		&lt;servlet-name&gt;leo&lt;/servlet-name&gt;
		&lt;servlet-class&gt;org.leo.rest.servlet.LeoServlet&lt;/servlet-class&gt;
		&lt;init-param&gt;
			&lt;param-name&gt;packageName&lt;/param-name&gt;
			&lt;param-value&gt;com.service&lt;/param-value&gt;
		&lt;/init-param&gt;
		
		&lt;!-- Set up custom authenticator for authtoken --&gt;
		&lt;init-param&gt;
			&lt;param-name&gt;authenticator&lt;/param-name&gt;
			&lt;param-value&gt;com.abc.SampleAuthenticator&lt;/param-value&gt;
		&lt;/init-param&gt;
		
		&lt;!-- location for key file --&gt;
		&lt;init-param&gt;
			&lt;param-name&gt;keyFile&lt;/param-name&gt;
			&lt;param-value&gt;keyFile&lt;/param-value&gt;
		&lt;/init-param&gt;
		&lt;load-on-startup&gt;0&lt;/load-on-startup&gt;
	&lt;/servlet&gt;

	&lt;servlet-mapping&gt;
		&lt;servlet-name&gt;leo&lt;/servlet-name&gt;
		&lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;
	&lt;/servlet-mapping&gt;
</code>
		</pre>
		
		The custom authenticator class can help user to validate incoming token.<br/>
		It is optional to implement an authenticator if not given it will be construed as the will be no auth token for the services.<br/>
		Token in the incoming message initially be encrypted and before passing to authenticator it will be decrypted.<br/>
		An example of custom authenticator is given below.<br/><br/>
		<pre>
			<code>
	package com.abc;

	import org.leo.rest.auth.Authenticator;
	
	public class SampleAuthenticator implements Authenticator{
	
		@Override
		public boolean validate(String auth) {
			dao.validateUserId(auth);
			return true;
		}
	}
</code>
		</pre>
		</p>


		<!-- <h3>Non-responsive grid system</h3>
		<div class="row">
			<div class="col-xs-4">One third</div>
			<div class="col-xs-4">One third</div>
			<div class="col-xs-4">One third</div>
		</div> -->



	</div>
	<div class="container" id="docs" style="display: none; height: 800px;">
		<div class="row" style="height: inherit;">
			<div class="col-sm-12" style="height: inherit;">
				<p>
					<a href="#" onclick="undo();">&lt;-Back</a>
				</p>
				<iframe src="doc/index.html" class="container col-sm-12"
					style="height: inherit;"></iframe>
			</div>
		</div>
	</div>
	<!-- /container -->

	<footer class="footer">
		<div class="container">
			<center>
				<p class="text-muted">
					Maintained by Divyank Sharma(<a
						href="https://github.com/divyank01/">divyank01</a>)
				</p>
			</center>
		</div>
	</footer>
	<!-- Bootstrap core JavaScript
    ================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script>
		window.jQuery
				|| document
						.write('<script src="javascripts/jquery.min.js"><\/script>')
	</script>
	<script src="javascripts/bootstrap.min.js"></script>
	<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
	<script src="javascripts/ie10-viewport-bug-workaround.js"></script>
</body>
</html>
